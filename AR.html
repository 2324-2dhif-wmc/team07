<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>GeoAR.js demo</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
</head>

<body>
<a-scene
        vr-mode-ui="enabled: false"
        arjs="sourceType: webcam; videoTexture: true; debugUIEnabled: false;"
>
    <a-text
            value="This content will always face you."
            look-at="[gps-camera]"
            scale="10 10 10"
            gps-entity-place="latitude: 48.140098; longitude: 14.236085;"
    ></a-text>
    <!--
    <a-box
            id="myCube"
            gps-entity-place="latitude: 48.268204; longitude: 14.252109;"
            material="color: red;"
            position="5 5 5"
            rotation="0 45 0"
            scale="2 2 2"
            depth="1"
            height="1"
            width="1"
            visible="false">
    </a-box>

          position="5 5 5"
          rotation="0 45 0"
          scale="2 2 2"
          depth="1"
          height="1"
          width="1">
          -->
    <!---
    coordinates of school
    latitude="48.268204"
            longitude="14.252109"
    der Parameter wird später vllt nützlich look-at="#camera"
    <a-text
            value="This content will always face you."
            look-at="[gps-camera]"
            scale="10 10 10"
            gps-entity-place="latitude: 48.268204; longitude: 14.252109;"
    ></a-text>
    --->
    <a-camera gps-camera rotation-reader> </a-camera>
</a-scene>
<!--
<script>
    const targetLatitude = 48.268317;
    const targetLongitude = 14.251900;

    // Function to check if coordinates match
    function checkCoordinates() {
        const cube = document.getElementById('myCube');
        const camera = document.getElementById('camera');
        const cameraPosition = camera.components['gps-camera'].currentCoords;

        if (cameraPosition.latitude === targetLatitude && cameraPosition.longitude === targetLongitude) {
            cube.setAttribute('visible', true);
        } else {
            cube.setAttribute('visible', false);
        }
    }

    // Continuously check coordinates
    setInterval(checkCoordinates, 1000); // check every second
</script>

<script>
    //const targetLatitude = 48.268204;
   // const targetLongitude = 14.252109;

    const targetLatitude = 48.140098;
    const targetLongitude = 14.236085;
    const latRange = 0.0001; // range of latitude within which the object should be visible
    const lonRange = 0.0001; // range of longitude within which the object should be visible

    //5*5 Meter const latRange = 5 / 111320; // range of latitude within which the object should be visible
    //const lonRange = 5 / (111320 * Math.cos(targetLatitude * Math.PI / 180));
    // Function to check if coordinates are within the range
    function checkCoordinates() {
        const cube = document.getElementById('myCube');
        const camera = document.getElementById('camera');
        const cameraPosition = camera.components['gps-camera'].currentCoords;

        if (cameraPosition) {
            const isWithinLatRange = Math.abs(cameraPosition.latitude - targetLatitude) <= latRange;
            const isWithinLonRange = Math.abs(cameraPosition.longitude - targetLongitude) <= lonRange;

            if (isWithinLatRange && isWithinLonRange) {
                cube.setAttribute('visible', true);
            } else {
                cube.setAttribute('visible', false);
            }
        }
    }

    // Continuously check coordinates
    setInterval(checkCoordinates, 1000); // check every second
</script>
-->
</body>
</html>